<!doctype html>
<html>

<head>
    <title>Curso Javascript Completo 2018</title>
    <meta charset="utf-8">
</head>

<body>
    <div class="container">
        <h1>Curso Javascript Completo 2018</h1>

        <textarea id="msg" cols="50" rows="10" maxlength="150"></textarea>
        <div id="restaContainer" style="display: none;">Restam
            <span id="resta"></span> caracteres</div>
    </div>

    <script>
        (function () {
            'use strict';

            var $txtmsg = document.getElementById('msg');
            var $restaContainer = document.getElementById('restaContainer');
            var $resta = document.getElementById('resta');
            var maxima = $txtmsg.maxLength;

            mostrarContainerResta();
            mostrarCaracteresFaltantes(maxima);

            $txtmsg.addEventListener('input', checkLenght)

            function checkLenght(e) {
                var numeroLetrasDigitadas = this.value.length;
                var caracteresRestantes = parseInt(maxima) - parseInt(numeroLetrasDigitadas);

                mostrarCaracteresFaltantes(caracteresRestantes);
            }

            function mostrarCaracteresFaltantes(n) {
                $resta.textContent = n;
            }

            function mostrarContainerResta() {
                $restaContainer.style.display = 'block';
            }
        })()
    </script>
</body>

</html>